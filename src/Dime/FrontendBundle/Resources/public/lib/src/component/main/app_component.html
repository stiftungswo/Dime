<div class="wrapper" [hidden]="!auth.isloggedin">
  <header class="main-header">

    <!-- Logo -->
    <a href="/" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini">Dime</span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg">DimeERP</span>
    </a>

    <!-- Header Navbar -->
    <nav class="navbar navbar-static-top" role="navigation">
      <!-- Sidebar toggle button-->
      <a class="sidebar-toggle" data-toggle="push-menu" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>

      <!-- Navbar Right Menu -->
      <div class="navbar-custom-menu">
        <ul class="nav navbar-nav">
          <li>
            <statusbar></statusbar>
          </li>
          <li class="dropdown notifications-menu">
            <a class="dropdown-toggle" data-toggle="dropdown">
              <i class="fa fa-user"></i> {{userContext.employee.fullname}}
            </a>
            <ul class="dropdown-menu">
              <li>
                <usermenu></usermenu>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <aside class="main-sidebar">
    <main-menu *ngIf="auth.isloggedin"></main-menu>
  </aside>

  <!-- Main Content -->
  <div class="content-wrapper">
    <div class="content">
      <router-outlet *ngIf="auth.isloggedin" [routes]="routes"></router-outlet>
      <maintabset></maintabset>
    </div>
    <div class="clearfix"></div>
  </div>

  <!-- Main Footer -->
  <footer class="main-footer">
    &copy; DimeERP <span class="release-info">({{releaseInfo}})</span>
  </footer>
</div>
<div *ngIf="!auth.isloggedin && !auth.showlogin">
  <div class="login-page">
    <div class="login-box">
      <div class="login-logo">
        Lade DimeERP<br><br>
        <span class="fa fa-refresh fa-spin"></span>
      </div>
    </div>
  </div>
</div>
<div *ngIf="auth.showlogin">
  <div class="login-page">
    <div class="login-box">
      <div class="login-logo">
        DimeERP
      </div>

      <div class="login-box-body" (keypress)="loginOnEnter($event)">
        <p class="login-box-msg">Login</p>

        <div class="alert alert-danger" role="alert" *ngIf="loginFailed">Login fehlgeschlagen</div>
        <div class="form-group has-feedback">
          <input type="text" id="username" class="form-control" placeholder="Benutzername" [(ngModel)]="username" autocorrect="off" autocapitalize="off" spellcheck="false"/>
          <span class="fa fa-user form-control-feedback"></span>
        </div>
        <div class="form-group has-feedback">
          <input type="password" id="password" class="form-control" placeholder="Passwort" [(ngModel)]="password"/>
          <span class="fa fa-lock form-control-feedback"></span>
        </div>
        <div class="checkbox">
          <label>
            <input class="checkbox" type="checkbox" [(ngModel)]="rememberme"> Angemeldet bleiben
          </label>
        </div>
        <div class="row">
          <div class="col-xs-8">
            &nbsp;
          </div>
          <!-- /.col -->
          <div class="col-xs-4">
            <button type="submit" class="btn btn-primary btn-block btn-flat" (click)="login()">
              Login
            </button>
          </div>
          <!-- /.col -->
        </div>

      </div>
      <!-- /.login-box-body -->
    </div>
    <!-- /.login-box -->
  </div>
</div>
