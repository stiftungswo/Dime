<div class="box box-primary">
  <div class="box-header with-border">
    <h3 class="box-title">Servicerapport</h3>
  </div>
  <div class="box-body" style="overflow: scroll;">

    <label>Datum:</label>
    <div class="row">
      <div class="col-md-6">
        <daterange [(startdate)]="filterStartDate" [(enddate)]="filterEndDate"></daterange>&nbsp;
        <button type="button" class="btn btn-primary" (click)="reloadEvict()"><span class="glyphicon glyphicon-refresh"></span></button>
      </div>
      <div class="col-md-6">
        <a href="{{getCsvLink()}}" target="_blank"><button type="button" class="btn btn-primary">Als CSV herunterladen</button></a>
      </div>
    </div>
    <br>

    <table *ngIf="total != null" class="table table-bordered table-hover form">
      <thead>
        <tr>
          <th style="width: 150px;">Projekt</th>
          <th style="width: 150px;">TÃ¤tigkeitsbereich</th>
          <th *ngFor="let activity of total['activitylist']" style="width: 80px;" class="text-overflow-ellipsis" title="{{activity}}">
            {{activity}}
            <span *ngIf="activity == ''"><i>DELETED SERVICE</i></span>
          </th>
          <th style="width: 60px;">Total</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let entry of entries">
          <td class="text-overflow-ellipsis" title="{{entry['name']}}">{{entry['name']}}</td>
          <td class="text-overflow-ellipsis" title="{{entry['projectCategory']}}">{{entry['projectCategoryId']}} {{entry['projectCategory']}}</td>
          <td *ngFor="let activity of total['activitylist']" title="{{activity}}">
              {{getTime(entry['activities'],activity) | number:"1.1-1"}}
          </td>
          <td title="{{entry['name']}}">{{(entry['total']/(60*60)) | number:"1.1-1"}}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td>Total</td>
          <td>&nbsp;</td>
          <td *ngFor="let activity of total['activitylist']" title="{{activity}}">
            {{getTime(total['activities'],activity) | number:"1.1-1"}}
          </td>
          <td>&nbsp;</td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>
<div class="DimeControlButtons">
  <a href="{{getCsvLink()}}" target="_blank"><button type="button" class="btn btn-primary">Als CSV herunterladen</button></a>
  <button type="button" class="btn btn-default" (click)="reloadEvict()"><span class="glyphicon glyphicon-refresh"></span></button>
</div>
