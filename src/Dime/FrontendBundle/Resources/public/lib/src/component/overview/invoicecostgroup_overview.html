<div class="box box-primary">
  <div class="box-header with-border">
    <h3 class="box-title">Kostenstellen</h3>
  </div>
  <div class="box-body">
    <table class="table table-bordered table-hover">
      <thead>
        <tr>
          <th>Gewicht</th>
          <th width="60">Anteil</th>
          <th>Kostenstelle</th>
          <th width="60">Aktion</th>
        </tr>
      </thead>
      <div class="alert alert-danger" *ngIf="entities != null && entities.length == 0">Es muss mindestens eine Kostenstelle erfasst sein</div>
      <tbody *ngIf="entities != null">
        <tr *ngFor="let entity of entities" (click)="selectEntity(entity.id)" [class.info]="isSelected(entity)">
          <td><input class="form-control" type="number" [(ngModel)]="entity.weight" (change)="addSaveField('weight', entity)"/></td>
          <td>{{  entity.weight/getWeightSum() * 100  | number:'0.0-0' }} %</td>
          <td>
            <costgroup-select style="width:100%;" class="col-sm-4" [(selectedEntity)]="entity.costgroup" (selectedEntityChange)="addSaveField('costgroup', entity)"></costgroup-select>
          </td>
          <td><dime-button (click)="deleteEntity(entity.id)" fontAwesome="trash-o" color="red"></dime-button></td>
        </tr>
      </tbody>
    </table>
    <div class="DimeControlButtons">
      <dime-button primary (click)="createEntity()" glyphicon="plus">Hinzuf√ºgen</dime-button>
      <dime-button (click)="reloadEvict()" glyphicon="refresh"></dime-button>
    </div>
  </div>
</div>
