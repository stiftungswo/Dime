<table class="table table-bordered table-hover form" *ngIf="entities.length > 0">
  <thead>
    <tr>
      <th>Start</th>
      <th>Ende</th>
      <th class="hidden-xs">Pensum</th>
      <th>Istzeit</th>
      <th>Sollzeit</th>
      <th>Heute <help-tooltip text="Stundensaldo bis heute (oder Ende der Periode wenn diese bereits beendet ist)"></help-tooltip></th>
      <th class="hidden-xs">Ferien Total <help-tooltip text="Anzahl Ferien in dieser Periode"></help-tooltip></th>
      <th>Verf端gbare Ferien <help-tooltip text="Noch verf端gbare Ferien"></help-tooltip></th>
      <th class="hidden-xs">Ferien端bertrag <help-tooltip text="Ferienguthaben vom letzten Jahr"></help-tooltip></th>
      <th width="60" class="hidden-xs">Aktion</th>
    </tr>
  </thead>
  <tbody *ngIf="entities != null">
    <tr *ngFor="let entity of entities" (click)="selectEntity(entity.id)" [class.info]="isSelected(entity)">
      <td><dateinput style="width: 100%;" [(date)]="entity.start" (dateChange)="entity.addFieldtoUpdate('start')"></dateinput></td>
      <td><dateinput style="width: 100%;" [(date)]="entity.end" (dateChange)="entity.addFieldtoUpdate('end')"></dateinput></td>
      <td class="hidden-xs"><input-percentage htmlclass="form-control" [safecalc]="false" [(value)]="entity.pensum" (change)="addSaveField('pensum', entity)"></input-percentage></td>
      <td>{{entity.realTime | secondsToHours}}</td>
      <td>{{entity.targetTime | secondsToHours}}</td>
      <td [class.text-red]="entity.timeTillToday<0" [class.text-green]="entity.timeTillToday>=0">{{entity.timeTillToday | secondsToHours}}</td>
      <td class="hidden-xs">{{entity.employeeholiday}}</td>
      <td>{{entity.holidayBalance | secondsToHours }}</td>
      <td class="hidden-xs">
        <input style="width: 50%;" class="form-control" type="text" [(ngModel)]="entity.lastYearHolidayBalance" (change)="addSaveField('lastYearHolidayBalance', entity)" />
        <label>&nbsp;h</label>
      </td>
      <td class="hidden-xs"><dime-button (click)="deleteEntity(entity.id)" fontAwesome="trash-o" color="red"></dime-button></td>
    </tr>
  </tbody>
</table>
<div class="text-muted" *ngIf="entities.length == 0">
  Keine Perioden
</div>
<div class="DimeControlButtons container-inline">
  <dime-button primary (click)="save()"><error-icon></error-icon></dime-button>
  <dime-button primary (click)="createEntity()" glyphicon="plus">Hinzuf端gen</dime-button>
  <dime-button primary (click)="duplicateEntity()" fontAwesome="copy">Duplizieren</dime-button>
  <dime-button (click)="reloadEvict()" glyphicon="refresh"></dime-button>
</div>
