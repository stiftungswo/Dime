<div class="panel panel-default">
	<button type="button" class="btn btn-default" ng-click="previousMonth()"><<<-</button>
	<button type="button" class="btn btn-default" ng-click="previousWeek()"><<-</button>
	<button type="button" class="btn btn-default" ng-click="previousDay()"><-</button>
	<input type="date" class="form-control" ng-model="filterStartDate">
	<input type="date" class="form-control" ng-model="filterEndDate">
	<button type="button" class="btn btn-default" ng-click="nextDay()">-></button>
	<button type="button" class="btn btn-default" ng-click="nextWeek()">->></button>
	<button type="button" class="btn btn-default" ng-click="nextMonth()">->>></button>
	<project-select project="selectedProject"></project-select>
</div>
<table class="table table-bordered table-hover">
	<thead>
	<tr>
		<td>Service</td>
		<td>Start</td>
		<td>Ende</td>
		<td>Dauer/Anzahl</td>
	</tr>
	</thead>
	<tbody>
	<tr ng-repeat="entity in entities | timeslicedatefilter: filterStartDate:filterEndDate | orderBy:'startedAt'" ng-click="selectEntity(entity.id)" ng-class="isSelected(entity)? 'info': ''">
		<td>
			<!-- Todo Convert to typeahead kind of input -->
			<select class="form-control" ng-model="entity.activity" on-change="addSaveField('activity', entity)">
				<option ng-repeat="activity in activities | projectvaluefilter: entity.project.id" ng-value="activity"
				        ng-selected="activity.id == entity.activity.id">{{ activity.project.name}} - {{ activity.name }}
				</option>
			</select>
		</td>
		<td><input type="date" class="form-control" ng-model="entity.startedAt" on-change="addSaveField('startedAt', entity)"/></td>
		<td><input type="date" class="form-control" ng-model="entity.stoppedAt" on-change="addSaveField('stoppedAt', entity)"/></td>
		<td><input class="form-control" ng-model="entity.value" on-change="addSaveField('value', entity)"/></td>
	</tr>
	</tbody>
</table>
<div class="controllbuttons">
	<button type="button" class="btn btn-primary" ng-click="createEntity()">+</button>
	<button type="button" class="btn btn-primary" ng-click="duplicateEntity()">++</button>
	<button type="button" class="btn btn-danger" ng-click="deleteEntity()">-</button>
</div>