<div class="row" style="display: table;margin: 0 auto;margin-bottom: 5px;">
	<div class="col-xs-3" style="margin: 0; padding: 0; width: 22%;">
		<button type="button" class="btn btn-default" ng-click="previousMonth()"><<<-</button>
		<button type="button" class="btn btn-default" ng-click="previousWeek()"><<-</button>
		<button type="button" class="btn btn-default" ng-click="previousDay()"><-</button>
	</div>
	<div class="col-xs-2" style="margin: 0; padding: 0;">
		<dateinput date="filterStartDate"></dateinput>
	</div>
	<div class="col-xs-2" style="margin: 0; padding: 0; margin-right: 4px;">
		<dateinput date="filterEndDate"></dateinput>
	</div>
	<div class="col-xs-3" style="margin: 0; padding: 0; width: 22%;">
		<button type="button" class="btn btn-default" ng-click="nextDay()">-></button>
		<button type="button" class="btn btn-default" ng-click="nextWeek()">->></button>
		<button type="button" class="btn btn-default" ng-click="nextMonth()">->>></button>
	</div>
</div>
<table class="table table-bordered table-hover form">
	<thead>
	<tr>
		<td ng-if="projectBased">Benutzer</td>
		<td class="col-sm-6">Service</td>
		<td>Start</td>
		<td>Ende</td>
		<td>Dauer/Anzahl</td>
	</tr>
	</thead>
	<tbody>
	<tr ng-repeat="entity in entities | timeslicedatefilter: filterStartDate:filterEndDate | orderBy:'startedAt'" ng-click="selectEntity(entity.id)" ng-class="isSelected(entity)? 'info': ''">
		<td ng-if="projectBased"><user-select user="entity.user" callback="entity.addFieldtoUpdate(name)" field="'user'"></user-select></td>
		<td><activity-select activity="entity.activity" project="entity.project.id" callback="entity.addFieldtoUpdate(name)" field="'activity'"></activity-select></td>
		<td><dateinput style="width: 100%;" format="'dd-MM-y HH:mm'" date="entity.startedAt" field="'startedAt'" callback="entity.addFieldtoUpdate(name)"></dateinput></td>
		<td><dateinput style="width: 100%;" format="'dd-MM-y HH:mm'" date="entity.stoppedAt" field="'stoppedAt'" callback="entity.addFieldtoUpdate(name)"></dateinput></td>
		<td><input style="width: 100%;" class="form-control" ng-model="entity.value" ng-change="addSaveField('value', entity)"/></td>
	</tr>
	</tbody>
</table>
<div class="controllbuttons container-inline">
	<div class="row form-inline">
		<div class="col-md-2">
			<label>Datum</label>
			<dateinput date="newEntryDate"></dateinput>
		</div>
		<div class="col-md-1">
			<label>Berechnen</label>
			<input class="checkbox" type="checkbox" ng-model="updateNewEntryDate" />
		</div>
		<div ng-if="projectBased == true" class="col-md-2">
			<label>Benutzer</label>
			<user-select user="employee" useContext="false"></user-select>
		</div>
		<div ng-if="projectBased == false" class="col-md-2">
			<label>Benutzer</label>
			<user-select useContext="true"></user-select>
		</div>
		<div ng-if="allowProjectSelect" class="col-md-4">
			<label>Projekt</label>
			<project-select project="selectedProject"></project-select>
		</div>
		<div class="col-md-2">
			<label>Aktivit√§t</label>
			<setting-edit namespace="'/usr/defaults/timeslice'" name="'activity'" defaultvalue="'zivi-tages*'"></setting-edit>
		</div>
		<div class="col-md-1">
			<label>Wert</label>
			<setting-edit namespace="'/usr/defaults/timeslice'" name="'value'" defaultvalue="'8.4h'"></setting-edit>
		</div>
		<div class="col-md-12" style="margin-top: 5px;">
			<button type="button" class="btn btn-primary" ng-click="createEntity()">+</button>
			<button type="button" class="btn btn-primary" ng-click="duplicateEntity()">++</button>
			<button type="button" class="btn btn-danger" ng-click="deleteEntity()">-</button>
			<button type="button" class="btn btn-primary" ng-click="reload(evict: true)"><span class="glyphicon glyphicon-refresh"></span></button>
		</div>
	</div>
</div>